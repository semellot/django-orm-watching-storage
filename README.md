# Пульт охраны банка
Помогает следить за посетителями хранилища банка и их посещениями.

## Требования
+ Django версии 3.2.*
+ Библиотека psycopg2-binary версии 2.9.*
+ Библиотека environs версии 9.5.*

## Как установить
Скачайте репозиторий, создайте виртуальное окружение и после активации виртуального окружения установите зависимости из файла `poetry.lock`.

## Функционал
`/` - На главной странице выводится список всех посетителей.
Для управления отображения данных на странице используйте файлы:
`/datacenter/templates/active_passcards.html`
`/datacenter/active_passcards_view.py`

Страница `/storage_information` содержит список людей, которые в данный момент находятся в хранилище и сколько времени. Редактируем информацию в файлах:
`/datacenter/templates/storage_information.html`
`/datacenter/storage_information_view.py`

На странице вида `/passcard_info/[passcode]` выводится список всех посещений конкретного посетителя, где `passcode` - это код пропуска. Редактируем информацию в файлах:
`/datacenter/templates/passcard_info.html`
`/datacenter/passcard_info_view.py`

Функция `get_duration` вычисляет и возвращает длительность нахождения посетителя в хранилище. Принимает 2 аргумента:
+ visit - дата и время входа
+ leave - дата и время выхода (по умолчанию текущая дата и время)

Функция `is_visit_long` проверяет является ли визит подозрительно долгим. Если время нахождения в хранилище больше 1 часа, то функция вернет `True`. Принимает 2 аргумента:
+ visit - длительность нахождения в хранилище
+ minutes - количество минут для сравнения (по умолчанию параметр равен 60)
